function homePageHandler(){const{post_datetime:e,post_datetime_format:n,announcement:t}=KEEP.theme_config?.home||{},o=KEEP.theme_config?.first_screen||{};if("updated"===e&&n&&document.querySelectorAll(".post-meta-info .home-post-history").forEach(e=>{var t=new Date(e.dataset.updated).getTime(),o=n||KEEP.themeInfo.defaultDatetimeFormat;e.innerHTML=KEEP.utils.formatDatetime(o,t)}),n&&"ago"!==n||document.querySelectorAll(".post-meta-info .home-post-history").forEach(e=>{var t=Date.now(),o=new Date(e.dataset.updated).getTime();e.innerHTML=KEEP.utils.getHowLongAgo(Math.floor((t-o)/1e3))}),t){const r=document.querySelector(".home-content-container .website-announcement");r&&r.querySelector(".close").addEventListener("click",()=>{r.style.display="none"})}var a=!0===o?.hitokoto;if(!0===o?.enable&&(!0!==o?.enable||a||o?.description)){const i=document.querySelector(".first-screen-content .description");i&&(i.style.opacity="0",setTimeout(()=>{i.style.opacity="1",i.querySelectorAll(".desc-item").forEach(e=>{const t=e.querySelector(".desc"),o=e.querySelector(".cursor"),n=t.innerHTML;t.innerHTML="";let a=0;if(n){const r=()=>{a<n.length?(t.textContent+=n.charAt(a),a++,setTimeout(r,100)):o.style.display="none"};r()}})},a?400:300))}}!0===KEEP.theme_config?.pjax?.enable&&KEEP.utils?homePageHandler():window.addEventListener("DOMContentLoaded",homePageHandler);